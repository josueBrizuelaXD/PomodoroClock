<!DOCTYPE html>

<html>

	<head>
		<link href="css/style.css" rel="stylesheet">



	</head>	

	<body>
		<canvas id="myCanvas" resize="true"></canvas>

	</body>

	<footer>
		<script type="text/javascript" src="js/paper-full.min.js"></script>
		<script type="text/javascript" src="js/paper-animate-browser.min.js"></script>


		<script type="text/javascript">
			paper.install(window);


			window.onload = function() {
				paper.setup('myCanvas');
               	var activeAnim = true;
				var viewHeight = view.bounds.height;
				var viewWidth = view.bounds.width;
				var viewCenterX = view.center.x;
				var viewCenterY = view.center.y;
				
				var liquidPathData = "M22.212,106.298c3.9,6.82 226.633,6.481 230.534,-0.339c49.534,-86.627 -15.769,-101.963 -41.37,-101.878c-19.933,0.065 -46.706,-0.156 -73.628,0c-27.261,0.158 -50.441,-0.337 -71.876,0c-31.035,0.487 -93.195,15.59 -43.66,102.217Z";

				var glassPathData = 'M267.969,374.773c-4.232,9.266 -245.955,8.805 -250.187,-0.461c-53.758,-117.685 65.519,-142.042 69.075,-142.019c21.569,0.134 13.379,-145.955 10.3,-183.931c-1.41,-17.379 -48.072,-43.926 -28.778,-43.926c12.201,0 48.59,0 74.205,0c0.264,0 62.587,0.461 74.787,0.461c19.295,0 -27.367,26.547 -28.777,43.925c-3.079,37.976 -11.269,184.066 10.3,183.931c3.556,-0.022 122.833,24.335 69.075,142.02Z';

				var liquidPath = new Path(liquidPathData);
				liquidPath.fillColor = "#38ABFA";
				
				var glassPath = new Path(glassPathData);
				glassPath.strokeColor ="#cffcfe";
				glassPath.strokeWidth = 20;
				
				var circle = Path.Circle(new Point(viewCenterX - 15, 100), 50);
				circle.fillColor = "#38ABFA";
				
                animatePaper.animate(circle, {
				properties: {
				position: {
					x: viewCenterX - 15,
					y: 800
				}					 
			},
				settings: {
					duration: 1000,
					easing: "easeOut",
					repeat: activeAnim,
					complete: function(item, animation) {
						console.log("ani completed: " + Object.keys(item));
						
						animatePaper.animate(this, {
						properties: {
							position: {
								y: 760
							}
						},
						
						settings: {
							duration:1000,
							easing: "easeOut"
						}
						})
					}
				}
									 
				});
				
				

				liquidPath.bounds = new Rectangle(view.center.x - ((view.bounds.width * 0.33) / 2), view.bounds.height - ((view.bounds.width * 0.31) / 2),view.bounds.width * 0.33,view.bounds.height * 0.3);

				glassPath.bounds = new Rectangle(view.center.x - ((view.bounds.width * 0.32) / 2), 0, view.bounds.width * 0.32, view.bounds.height);
				var height = 15;
				var waveHeight = view.bounds.height - (view.bounds.height * 0.20);
				
				


				view.onResize = function(event) {

					liquidPath.bounds = new Rectangle(view.center.x - ((view.bounds.width * 0.31) / 2), view.bounds.height - ((view.bounds.width * 0.31) / 2),view.bounds.width * 0.31,view.bounds.height * 0.3);

					glassPath.bounds = new Rectangle(view.center.x - ((view.bounds.width * 0.32) / 2), 0, view.bounds.width * 0.32, view.bounds.height);

					viewHeight = view.bounds.height - (view.bounds.height * 0.33);
				}


		view.onFrame = function(event) { 
			

			if (activeAnim) {
//				liquidPath.fillColor.hue -= 1;
				for (var i = 2; i < 5; i++) {
					var segment = liquidPath.segments[i];

					var sinus = Math.sin(event.time * 3 + i);
					var yPoint = sinus * height + waveHeight;
					segment.point.y = yPoint;

				}
			}



		} 
		view.draw();



				
}



		</script>
	</footer>	

</html>