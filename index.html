<!DOCTYPE html>

<html>

	<head>
		<link href="css/style.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css?family=Indie+Flower" rel="stylesheet">


	</head>	

	<body>
		
		
		<div class="container">
		<h1>Pomodoro Clock</h1>	
		<div><canvas id="myCanvas" resize="true"></canvas></div>		
		
		<div class="sub-container">
		<div class="setup-section">
		
		<div>
		<div><label>Break Length</label></div>
				
		<div class="sub-section">
		<button class="minus">-</button>
		<p>Break</p>
	    <button>+</button>
		</div>
			
			
				
		</div>
		
		
		<div>
		<div><label>Session Length</label></div>
				
		<div class="sub-section">
		<button class="minus">-</button>
		<p>Session</p>
	    <button>+</button>
		</div>	
				
		
		</div>	
			
		</div>
			
		<div class="time-section">
		<div>
		<label class="time-session-section">Session: <span>25:00</span> </label>	
		</div>
		<div>
		<label class="time-break-section">Break: <span>5:00</span> </label>	
		</div>	
			
	    </div>	
				
		<div>
		<button class="start-btn">Start!</button>	
		</div>
		
		</div>		
		</div>
		
		
		<img id="myImage" src="img/liquid-mask.png">
	</body>

	<footer>
		<script type="text/javascript" src="js/paper-full.min.js"></script>
		<script type="text/javascript" src="js/paper-animate-browser.min.js"></script>


		<script type="text/javascript">
			paper.install(window);


			window.onload = function() {
				paper.setup('myCanvas');
               	var activeAnim = true;
				var viewHeight = view.bounds.height;
				var viewWidth = view.bounds.width;
				var viewCenterX = view.center.x;
				var viewCenterY = view.center.y;
				
				var liquidPathData = "M22.212,106.638c3.9,6.821 226.633,6.482 230.534,-0.339c49.534,-86.627 -15.769,-101.962 -41.37,-101.878c-11.467,0.038 -25.199,-0.019 -39.921,-0.045c-10.867,-0.019 -22.274,-0.021 -33.707,0.045c-13.484,0.078 -25.97,-0.003 -37.74,-0.065c-12.025,-0.063 -23.303,-0.105 -34.136,0.065c-31.035,0.488 -93.195,15.59 -43.66,102.217Z";

				

				var liquidPath = new Path(liquidPathData);
				liquidPath.fillColor = "#38ABFA";
				liquidPath.strokeColor ="white";
				liquidPath.strokeWidth = 2;
				
//				var circle = Path.Circle(new Point(viewCenterX - 15, 100), 50);
//				circle.fillColor = "#38ABFA";
				
				var waveHeight = viewCenterY + 140;
				
				var imRaster = new Raster("myImage");
				imRaster.position = new Point(352,316);
				
				liquidPath.bounds = new Rectangle(viewCenterX - ((viewWidth * 0.53) / 2),waveHeight,viewWidth * 0.56,viewHeight * 0.3);
				
//                animatePaper.animate(circle, {
//				properties: {
//				position: {
//					x: viewCenterX - 15,
//					y: 800
//				}					 
//			},
//				settings: {
//					duration: 1000,
//					easing: "easeOut",
//					repeat: activeAnim,
//					complete: function(item, animation) {
//						console.log("ani completed: " + Object.keys(item));
//						
//						animatePaper.animate(this, {
//						properties: {
//							position: {
//								y: 760
//							}
//						},
//						
//						settings: {
//							duration:1000,
//							easing: "easeOut"
//						}
//						})
//					}
//				}
//									 
//				});
				
				

			
var fillPercentage = 0;
			
			setInterval(function() {
			fillPercentage += 1;
				
			if (fillPercentage >= 270) {
				fillPercentage = 270;
			}
				
			}, 100);	
				


		view.onFrame = function(event) { 
			

			if (activeAnim) {
//				liquidPath.fillColor.hue -= 1;
				for (var i = 2; i < 7; i++) {
					var segment = liquidPath.segments[i];

					var sinus = Math.sin(event.time * 7 + i);
					var yPoint = sinus * 4 + waveHeight - fillPercentage ;
					segment.point.y = yPoint;

				}
			}



		} 
		view.draw();



				
}



		</script>
	</footer>	

</html>